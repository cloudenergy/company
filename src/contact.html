<!DOCTYPE html>
<html>

@@include('head.html')

<body>
    <header class="p-r m-0-a">
        @@include('nav.html')
        <div class="banner m-0-a"><img src="assets/img/1.png" origin-src="assets/img/contact-banner.jpg" /></div>
    </header>
    <section>
        <div class="content m-0-a">
            <div class="container m-0-a bg-white">
                <p class="main-title tx-center">联系我们</p>
                <div class="m-0-a tx-center"><img src="assets/img/1.png" origin-src="assets/img/contact01.png" alt=""></div>
            </div>
        </div>
        <div class="content m-0-a bg-white-lilac main-title">
            <div class="container m-0-a bg-white-lilac">
                <div class="m-0-a">
                    <div style="width:100%;max-width:1200px;height:435px;border:#ccc solid 1px;font-size:12px" id="map"></div>
                </div>
                <div class="m-0-a tx-center m-t-50 m-b-20">
                    <img src="assets/img/1.png" origin-src="assets/img/contact02.png" alt="">
                </div>
            </div>
        </div>
    </section>
    @@include('footer.html')
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=XziSxtVDfkqbu37FGpFpGRRXtHhNccGu"></script>
    <script type="text/javascript">
        //阻止鼠标在地图上时的冒泡事件
        $('#map').on('mouseover', function(e) {
                if (e && e.stopPropagation) { //非IE
                    e.stopPropagation();
                } else { //IE
                    window.event.cancelBubble = true;
                }
            })
            //创建和初始化地图函数：
        function initMap() {
            createMap(); //创建地图
            setMapEvent(); //设置地图事件
            addMapControl(); //向地图添加控件
            addMapOverlay(); //向地图添加覆盖物
        }

        function createMap() {
            map = new BMap.Map("map");
            map.centerAndZoom(new BMap.Point(120.261318, 30.318175), 16);
        }

        function setMapEvent() {
            map.enableScrollWheelZoom();
            map.enableKeyboard();
            map.enableDragging();
            map.enableDoubleClickZoom()
        }

        function addClickHandler(target, window) {
            target.addEventListener("click", function() {
                target.openInfoWindow(window);
            });
        }

        function addMapOverlay() {
            var markers = [{
                content: "浙江省国家大学科技园 1幢A508",
                title: "杭州古鸽信息科技有限公司",
                imageOffset: {
                    width: -46,
                    height: -21
                },
                position: {
                    lat: 30.317847,
                    lng: 120.260582
                }
            }];
            for (var index = 0; index < markers.length; index++) {
                var point = new BMap.Point(markers[index].position.lng, markers[index].position.lat);
                var marker = new BMap.Marker(point, {
                    icon: new BMap.Icon("http://api.map.baidu.com/lbsapi/createmap/images/icon.png", new BMap.Size(20, 25), {
                        imageOffset: new BMap.Size(markers[index].imageOffset.width, markers[index].imageOffset.height)
                    })
                });
                var label = new BMap.Label(markers[index].title, {
                    offset: new BMap.Size(25, 5)
                });
                var opts = {
                    width: 200,
                    title: markers[index].title,
                    enableMessage: false
                };
                var infoWindow = new BMap.InfoWindow(markers[index].content, opts);
                marker.setLabel(label);
                addClickHandler(marker, infoWindow);
                map.addOverlay(marker);
            };
        }
        //向地图添加控件
        function addMapControl() {
            var scaleControl = new BMap.ScaleControl({
                anchor: BMAP_ANCHOR_BOTTOM_LEFT
            });
            scaleControl.setUnit(BMAP_UNIT_IMPERIAL);
            map.addControl(scaleControl);
            var navControl = new BMap.NavigationControl({
                anchor: BMAP_ANCHOR_BOTTOM_RIGHT,
                type: 1
            });
            map.addControl(navControl);
            var overviewControl = new BMap.OverviewMapControl({
                anchor: BMAP_ANCHOR_BOTTOM_RIGHT,
                isOpen: false
            });
            map.addControl(overviewControl);
        }
        var map;
        initMap();
    </script>
</body>

</html>